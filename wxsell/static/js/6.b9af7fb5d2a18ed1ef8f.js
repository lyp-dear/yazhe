webpackJsonp([6],{"0PnZ":function(t,e){},"2mox":function(t,e){},DW51:function(t,e){},EB4o:function(t,e){},PMVe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fxnj"),i=n.n(a),r=n("T452"),s=n("mtWM"),o=n.n(s);function c(t){var e=r.b+"/user/order/list";return o.a.post(e,t).then(function(t){return Promise.resolve(t)}).catch(function(t){})}var d=n("C0u4"),l=n("CaOM"),u=n("DFzv"),f=n("qwAB"),v=n("owMG"),_=(v.default,f.a,{data:function(){return{noOrder:!1,selected:"null",currentPage:-1,userInfo:"",loading:!1,orderList:[]}},methods:{getOrderList:function(){var t=this;this.orderList=[],c({userId:this.userInfo.id,is_pay:this.selected,currentPage:0,pageSize:100}).then(function(e){if(e.data.code===r.a){0===e.data.data.length?t.noOrder=!0:t.noOrder=!1;for(var n=0;n<e.data.data.length;n++)t.orderList.push(e.data.data[n])}})},isPay:function(){this.getOrderList()},loadMore:function(){},pay:function(t){var e={openid:this.userInfo.openId,out_trade_no:t.order_number,total_fee:t.pay_price},n=this;Object(d.a)(e).then(function(t){console.log(t);var e=t.data;t.data;i.a.config({debug:!0,appId:e.appid,timestamp:e.timeStamp,nonceStr:e.nonce_str,signature:e.paySign,jsApiList:["chooseWXPay"]}),i.a.ready(function(){n.addCart(e)}),i.a.error(function(t){console.log(t)})})},addCart:function(t){Object(u.a)(),i.a.chooseWXPay({timestamp:t.timeStamp,nonceStr:t.nonce_str,package:t.package,signType:"MD5",paySign:t.paySign,success:function(t){console.log(t),Object(u.a)(!0),Object(u.b)("支付成功")},cancel:function(t){console.log(t),Object(u.a)(!0),Object(u.b)("取消支付")},fail:function(t){Object(u.a)(!0),Object(u.b)("支付失败"),console.log(t)}})}},created:function(){this.userInfo=Object(l.b)(),"0"===Object(l.a)("selected")&&(this.selected="0"),"1"===Object(l.a)("selected")&&(this.selected="1"),this.getOrderList()},components:{NoOrder:v.default,Scroll:f.a}}),p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{attrs:{id:"my-order"}},[t.noOrder?n("no-order"):t._e(),t._v(" "),n("div",{staticClass:"order-list"},[n("div",{staticClass:"tab"},[n("mt-navbar",{attrs:{fixed:!0},nativeOn:{click:function(e){return t.isPay(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[n("mt-tab-item",{attrs:{id:"null"}},[t._v("全部")]),t._v(" "),n("mt-tab-item",{attrs:{id:"0"}},[t._v("待付款")]),t._v(" "),n("mt-tab-item",{attrs:{id:"1"}},[t._v("已付款")])],1)],1),t._v(" "),n("scroll",{staticClass:"order-content",attrs:{data:t.orderList}},[n("div",{staticClass:"order-list-info"},t._l(t.orderList,function(e,a){return n("div",{staticClass:"order-info"},[n("div",{staticClass:"order-number"},[n("div",[t._v("订单编号："+t._s(e.order_number))]),t._v(" "),1==e.is_pay?n("div",[t._v("交易成功")]):t._e(),t._v(" "),0==e.is_pay?n("div",[t._v("待支付")]):t._e()]),t._v(" "),n("div",{staticClass:"commodity-info"},t._l(e.goodsList,function(t){return n("div",{staticClass:"icon"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picture_url,expression:"info.picture_url"}],attrs:{width:"57",height:"64",alt:""}})])})),t._v(" "),n("div",{staticClass:"commodity-money"},[n("div",[t._v("合计 :￥"+t._s(e.pay_price))]),t._v(" "),0==e.is_pay?n("div",{on:{click:function(n){t.pay(e)}}},[t._v("付款")]):t._e()])])}))])],1)],1)])},staticRenderFns:[]};var m=n("VU/8")(_,p,!1,function(t){n("2mox")},"data-v-0d15dc9d",null);e.default=m.exports},owMG:function(t,e,n){"use strict";var a=n("0PnZ"),i=(n.n(a),n("EB4o")),r=n.n(i),s=n("wKSz");var o=function(t){n("DW51")},c=n("VU/8")(r.a,s.a,!1,o,"data-v-7b6889c9",null);e.default=c.exports},wKSz:function(t,e,n){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"no-size"}},[e("div",{staticClass:"icon"})])}]};e.a=a}});
//# sourceMappingURL=6.b9af7fb5d2a18ed1ef8f.js.map