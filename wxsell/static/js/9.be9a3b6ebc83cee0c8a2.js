webpackJsonp([9],{"2Vau":function(e,i){},"c+FZ":function(e,i,t){"use strict";i.a=function(e){var i=n.b+"/goods/shopcar/insert";return c.a.post(i,e).then(function(e){return Promise.resolve(e)}).catch(function(e){})},i.c=function(e){var i=n.b+"/goods/shopcar/count";return c.a.post(i,e).then(function(e){return Promise.resolve(e)}).catch(function(e){})},i.b=function(e){var i=n.b+"/goods/shopcar/list";return c.a.post(i,e).then(function(e){return Promise.resolve(e)}).catch(function(e){})},i.d=function(e){var i=n.b+"/goods/shopcar/update";return c.a.post(i,e).then(function(e){return Promise.resolve(e)}).catch(function(e){})};var s=t("mtWM"),c=t.n(s),n=t("T452")},jkL3:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});t("OgVB");var s=t("/Lyv"),c=t.n(s),n=(t("ybuH"),t("T452")),a=t("c+FZ"),r={render:function(){var e=this.$createElement,i=this._self._c||e;return i("div",{attrs:{id:"shoppingCartNull"}},[i("div",[i("div",{staticClass:"icon"}),this._v(" "),i("p",[this._v("购物车还是空的")]),this._v(" "),i("p",[this._v("快去挑几件喜欢的衣服吧~")]),this._v(" "),i("div",{staticClass:"go-stroll",on:{click:this.nav}},[this._v("去逛逛")])])])},staticRenderFns:[]};var o=t("VU/8")({methods:{nav:function(){this.$router.push({path:"/index"})}}},r,!1,function(e){t("2Vau")},"data-v-7a360e86",null).exports,d=t("DFzv"),u=t("CaOM"),h={data:function(){return{cartNull:!1,value:[],value1:" ",isCheckde:!1,sizeArray:["默认尺寸","更换定制"],nowSize:null,userInfo:"",carList:[],checkedArray:[],count:0,piece:0,nowPiece:0,nowCount:0,list:[],goodsList:[],trueNum:0,isAndroid:!1,isiOS:!1}},methods:{getCartList:function(){var e=this,i={openId:this.userInfo.openId};Object(a.b)(i).then(function(i){if(i.data.code===n.a){null===i.data.data?e.cartNull=!0:e.cartNull=!1;for(var t=0;t<i.data.data.length;t++)i.data.data[t].isChecked=!1;e.carList=i.data.data}}).catch(function(e){})},selected:function(e){if(e.isChecked){e.isChecked=!1,this.trueNum--;var i=Number(e.price*e.num);this.piece=Number(this.piece-e.num),this.count=Number(this.count-i);for(var t=0;t<this.goodsList.length;t++)this.goodsList[t].id===e.id&&this.goodsList.splice(t,1);this.isCheckde=!1}else{e.isChecked=!0,this.trueNum=0;var s=Number(e.price*e.num);this.piece=Number(this.piece+e.num),this.count=Number(this.count+s),this.nowPiece=this.price,this.nowCount=this.count;for(var c=0;c<this.carList.length;c++)this.carList[c].isChecked&&this.trueNum++;console.log(this.trueNum),this.trueNum===this.carList.length&&(this.isCheckde=!0);var n={id:e.id,goods_num:e.num,goods_price:e.price,goods_id:e.goods_id};this.goodsList.push(n)}},all:function(e){if(this.isCheckde){this.isCheckde=!1,this.goodsList=[],this.trueNum=0,this.count=0,this.piece=0;for(var i=0;i<this.carList.length;i++)this.carList[i].isChecked=!1}else{this.isCheckde=!0,this.goodsList=[],this.count=0,this.piece=0,this.trueNum=this.carList.length;for(var t=0;t<this.carList.length;t++){this.carList[t].isChecked=!0;var s=Number(this.carList[t].price*this.carList[t].num);this.count=Number(this.count+s),this.nowCount=this.count,this.piece=Number(this.piece+this.carList[t].num);var c={id:this.carList[t].id,goods_num:this.carList[t].num,goods_price:this.carList[t].price,goods_id:this.carList[t].goods_id};this.goodsList.push(c)}}},removeNum:function(e){if(1!==e.num){e.num--,this.piece--,this.count=Number(this.count-e.price);for(var i=0;i<this.goodsList.length;i++)this.goodsList[i].id===e.id&&(this.goodsList[i].goods_num=e.num)}},addNum:function(e){if(e.isChecked){e.num++;var i=Number(e.price*(e.num-1));this.piece=this.piece+1,this.count=Number(this.nowCount+i);for(var t=0;t<this.goodsList.length;t++)this.goodsList[t].id===e.id&&(this.goodsList[t].goods_num=e.num)}},size:function(e){e!=this.sizeArray.length-1&&(this.nowSize=e)},del:function(e){var i=this;c.a.confirm("确定删除此件商品吗?").then(function(t){var s={id:e.id};Object(a.d)(s).then(function(e){e.data.code===n.a&&(Object(d.b)("刪除商品成功"),i.getCartList())})}).catch(function(e){})},placeOrder:function(){if(this.trueNum<=0)Object(d.b)("请选择商品");else{for(var e={goodsList:JSON.stringify(this.goodsList),count:this.count,piece:this.piece,list:[]},i=[],t=0;t<this.carList.length;t++)this.carList[t].isChecked&&(i.push(this.carList[t]),e.list.push(this.carList[t]));this.$router.push({name:"placeOrder",params:{goodsList:JSON.stringify(this.goodsList),count:this.count,piece:this.piece,list:i}})}}},created:function(){},mounted:function(){this.userInfo=Object(u.b)(),this.getCartList();var e=navigator.userAgent;this.isAndroid=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,this.isiOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},components:{Cart:o}},l={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{attrs:{id:"shoppingCart"}},[e.cartNull?t("cart"):e._e(),e._v(" "),e.isAndroid?t("div",[t("div",{staticClass:"purchase-list"},e._l(e.carList,function(i,s){return t("div",{staticClass:"purchase-info"},[t("div",[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:i.isChecked,expression:"item.isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.isChecked)?e._i(i.isChecked,null)>-1:i.isChecked},on:{click:function(t){e.selected(i)},change:function(t){var s=i.isChecked,c=t.target,n=!!c.checked;if(Array.isArray(s)){var a=e._i(s,null);c.checked?a<0&&e.$set(i,"isChecked",s.concat([null])):a>-1&&e.$set(i,"isChecked",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(i,"isChecked",n)}}}),t("span")])]),e._v(" "),t("div",{staticClass:"img"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.picture_url,expression:"item.picture_url"}],attrs:{alt:""}})]),e._v(" "),t("div",{staticClass:"info"},[t("p",[e._v(e._s(i.goods_name))]),e._v(" "),t("p",[e._v("￥"+e._s(i.price))])]),e._v(" "),t("div",{staticClass:"add-remove-btn"},[t("div",{staticClass:"remove-btn",on:{click:function(t){e.del(i)}}}),e._v(" "),t("div",{staticClass:"add-btn"},[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.removeNum(i,s)}}},[e._v("-")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:i.num,expression:"item.num"}],attrs:{type:"text"},domProps:{value:i.num},on:{input:function(t){t.target.composing||e.$set(i,"num",t.target.value)}}}),e._v(" "),t("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.addNum(i,s)}}},[e._v("+")])])])])})),e._v(" "),t("div",{staticClass:"flex-btn"},[t("div",[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheckde,expression:"isCheckde"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isCheckde)?e._i(e.isCheckde,null)>-1:e.isCheckde},on:{click:e.all,change:function(i){var t=e.isCheckde,s=i.target,c=!!s.checked;if(Array.isArray(t)){var n=e._i(t,null);s.checked?n<0&&(e.isCheckde=t.concat([null])):n>-1&&(e.isCheckde=t.slice(0,n).concat(t.slice(n+1)))}else e.isCheckde=c}}}),t("span",{}),e._v("全选")])]),e._v(" "),t("div",[t("p",[e._v("合计 :"),t("i",[e._v(e._s(e.count.toFixed(2)))])]),e._v(" "),t("p",[e._v("已选 :"+e._s(e.piece)+"件")])]),e._v(" "),t("div",{class:{active:e.trueNum>=1},on:{click:e.placeOrder}},[e._v("下单")])])]):e._e(),e._v(" "),e.isiOS?t("div",[t("div",{staticClass:"purchase-list"},e._l(e.carList,function(i,s){return t("div",{staticClass:"purchase-info"},[t("div",{on:{click:function(t){e.selected(i)}}},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:i.isChecked,expression:"item.isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.isChecked)?e._i(i.isChecked,null)>-1:i.isChecked},on:{change:function(t){var s=i.isChecked,c=t.target,n=!!c.checked;if(Array.isArray(s)){var a=e._i(s,null);c.checked?a<0&&e.$set(i,"isChecked",s.concat([null])):a>-1&&e.$set(i,"isChecked",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(i,"isChecked",n)}}}),t("span")])]),e._v(" "),t("div",{staticClass:"img"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.picture_url,expression:"item.picture_url"}],attrs:{alt:""}})]),e._v(" "),t("div",{staticClass:"info"},[t("p",[e._v(e._s(i.goods_name))]),e._v(" "),t("p",[e._v("颜色: 蓝色")]),e._v(" "),t("p",[e._v("￥"+e._s(i.price))])]),e._v(" "),t("div",{staticClass:"add-remove-btn"},[t("div",{staticClass:"remove-btn",on:{click:function(t){e.del(i)}}}),e._v(" "),t("div",{staticClass:"add-btn"},[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.removeNum(i,s)}}},[e._v("-")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:i.num,expression:"item.num"}],attrs:{type:"text"},domProps:{value:i.num},on:{input:function(t){t.target.composing||e.$set(i,"num",t.target.value)}}}),e._v(" "),t("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.addNum(i,s)}}},[e._v("+")])])])])})),e._v(" "),t("div",{staticClass:"flex-btn"},[t("div",{on:{click:e.all}},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheckde,expression:"isCheckde"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isCheckde)?e._i(e.isCheckde,null)>-1:e.isCheckde},on:{change:function(i){var t=e.isCheckde,s=i.target,c=!!s.checked;if(Array.isArray(t)){var n=e._i(t,null);s.checked?n<0&&(e.isCheckde=t.concat([null])):n>-1&&(e.isCheckde=t.slice(0,n).concat(t.slice(n+1)))}else e.isCheckde=c}}}),t("span",{}),e._v("全选")])]),e._v(" "),t("div",[t("p",[e._v("合计 :"),t("i",[e._v(e._s(e.count.toFixed(2)))])]),e._v(" "),t("p",[e._v("已选 :"+e._s(e.piece)+"件")])]),e._v(" "),t("div",{class:{active:e.trueNum>=1},on:{click:e.placeOrder}},[e._v("下单")])])]):e._e()],1)},staticRenderFns:[]};var v=t("VU/8")(h,l,!1,function(e){t("suZY")},"data-v-704910a9",null);i.default=v.exports},suZY:function(e,i){}});
//# sourceMappingURL=9.be9a3b6ebc83cee0c8a2.js.map