webpackJsonp([4],{"5w4k":function(t,e,i){"use strict";String,Boolean,Boolean;var a={props:{status:{type:String,default:""},isData:{type:Boolean,default:!1},noLoading:{type:Boolean,default:!0}},data:function(){return{isStatus:""}},watch:{status:function(t){console.log(t),this.isStatus=t}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isData?i("div",{staticClass:"no-data"},[t._v("别再拉了，我是有底线的")]):t._e(),t._v(" "),t.noLoading?i("div",{staticClass:"mint-loadmore-bottom"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.isStatus,expression:"isStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.isStatus}},[t._v("↑")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.isStatus,expression:"isStatus === 'loading'"}]},[i("mt-spinner",{attrs:{type:"snake",size:20}})],1)]):t._e()])},staticRenderFns:[]};var n=i("VU/8")(a,s,!1,function(t){i("pnLQ")},"data-v-a56e005a",null);e.a=n.exports},YDxy:function(t,e){},Z3Re:function(t,e){},Z7ab:function(t,e,i){"use strict";Array;var a={props:{data:{type:Array,defalut:[]}},data:function(){return{}},methods:{goDetail:function(t){this.$emit("nextRouter",t)}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"list"}},[i("div",{staticClass:"clothes-container clearfloat"},t._l(t.data,function(e,a){return i("div",{key:a,on:{click:function(i){t.goDetail(e)}}},[i("div",{staticClass:"clothes-item"},[i("div",{staticClass:"img-box"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picture_url,expression:"item.picture_url"}],attrs:{alt:""}})]),t._v(" "),i("p",[t._v(t._s(e.goods_name))]),t._v(" "),i("p",[t._v("￥"+t._s(e.price))])])])}))])},staticRenderFns:[]};var n=i("VU/8")(a,s,!1,function(t){i("YDxy")},"data-v-46d4873b",null);e.a=n.exports},awup:function(t,e){!function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var a=(new Date).getTime();console.log(a,t);var s=Math.max(0,16.7-(a-t)),n=a-t,r=window.setTimeout(function(){e(n)},s);return t=a+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},bOuh:function(t,e){},dJaF:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mtWM"),s=i.n(a),n=i("T452");function r(t){return s.a.post("http://www.argesz.com/yazhe/cagegory/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){})}function o(t){var e=n.b+"/index/goods";return s.a.post(e,t).then(function(t){return Promise.resolve(t)}).catch(function(t){})}var c=i("Z7ab"),h=i("5w4k"),l=i("qwAB"),d=(i("awup"),Number,String,Boolean,Number,Number,Number,Number,{name:"LyTab",props:{lineWidth:{type:Number,default:1},activeColor:{type:String,default:"red"},fixBottom:{type:Boolean,default:!1},value:{},additionalX:{type:Number,default:50},reBoundExponent:{type:Number,default:10},sensitivity:{type:Number,default:1e3},reBoundingDuration:{type:Number,default:360}},computed:{style:function(){return{transitionTimingFunction:this.transitionTimingFunction,transitionDuration:this.transitionDuration+"ms",transform:"translate3d("+this.translateX+"px, 0px, 0px)"}},transitionDuration:function(){return this.touching||!this.reBounding&&!this.touching?"0":this.reBounding&&!this.touching?this.reBoundingDuration:void 0},transitionTimingFunction:function(){return this.reBounding?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.1, 0.57, 0.1, 1)"},viewAreaWidth:function(){return this.$refs.viewArea.offsetWidth},listWidth:function(){return this.$refs.list.offsetWidth-this.viewAreaWidth},isMoveLeft:function(){return this.currentX<=this.startX},isMoveRight:function(){return this.currentX>=this.startX}},data:function(){return{speed:0,touching:!1,reBounding:!1,translateX:0,startX:0,lastX:0,currentX:0,frameTime:16.7,frameStartTime:0,frameEndTime:0,inertiaFrame:0,zeroSpeed:.001,acceleration:0}},mounted:function(){this.bindEvent()},methods:{handleTouchStart:function(t){cancelAnimationFrame(this.inertiaFrame),this.lastX=t.touches[0].clientX},handleTouchMove:function(t){this.listWidth<=0||(t.preventDefault(),t.stopPropagation(),this.touching=!0,this.startMoveTime=this.endMoveTime,this.startX=this.lastX,this.currentX=t.touches[0].clientX,this.moveFellowTouch(),this.endMoveTime=t.timeStamp)},handleTouchEnd:function(t){if(this.touching=!1,this.checkReboundX())cancelAnimationFrame(this.inertiaFrame);else{var e=t.timeStamp-this.endMoveTime,i=this.endMoveTime-this.startMoveTime;if(e>100)return;this.speed=(this.lastX-this.startX)/i,this.acceleration=this.speed/this.sensitivity,this.frameStartTime=(new Date).getTime(),this.inertiaFrame=requestAnimationFrame(this.moveByInertia)}},checkReboundX:function(){return this.reBounding=!1,this.translateX>0?(this.reBounding=!0,this.translateX=0):this.translateX<-this.listWidth&&(this.reBounding=!0,this.translateX=-this.listWidth),0===this.translateX||this.translateX===-this.listWidth},bindEvent:function(){this.$el.addEventListener("touchstart",this.handleTouchStart,!1),this.$el.addEventListener("touchmove",this.handleTouchMove,!1),this.$el.addEventListener("touchend",this.handleTouchEnd,!1)},moveFellowTouch:function(){this.isMoveLeft?this.translateX<=0&&this.translateX+this.listWidth>0||this.translateX>0?this.translateX+=this.currentX-this.lastX:this.translateX+this.listWidth<=0&&(this.translateX+=this.additionalX*(this.currentX-this.lastX)/(this.viewAreaWidth+Math.abs(this.translateX+this.listWidth))):this.translateX>=0?this.translateX+=this.additionalX*(this.currentX-this.lastX)/(this.viewAreaWidth+this.translateX):(this.translateX<=0&&this.translateX+this.listWidth>=0||this.translateX+this.listWidth<=0)&&(this.translateX+=this.currentX-this.lastX),this.lastX=this.currentX},moveByInertia:function(){this.frameEndTime=(new Date).getTime(),this.frameTime=this.frameEndTime-this.frameStartTime,this.isMoveLeft?this.translateX<=-this.listWidth?(this.acceleration*=(this.reBoundExponent+Math.abs(this.translateX+this.listWidth))/this.reBoundExponent,this.speed=Math.min(this.speed-this.acceleration,0)):this.speed=Math.min(this.speed-this.acceleration*this.frameTime,0):this.isMoveRight&&(this.translateX>=0?(this.acceleration*=(this.reBoundExponent+this.translateX)/this.reBoundExponent,this.speed=Math.max(this.speed-this.acceleration,0)):this.speed=Math.max(this.speed-this.acceleration*this.frameTime,0)),this.translateX+=this.speed*this.frameTime/2,Math.abs(this.speed)<=this.zeroSpeed?this.checkReboundX():(this.frameStartTime=this.frameEndTime,this.inertiaFrame=requestAnimationFrame(this.moveByInertia))}}}),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"viewArea",staticClass:"ly-tab",class:{"ly-tab-fix-bottom":this.fixBottom}},[e("div",{ref:"list",staticClass:"ly-tab-list",style:this.style},[this._t("default")],2)])},staticRenderFns:[]};var m=i("VU/8")(d,u,!1,function(t){i("bOuh")},null,null).exports,f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"ly-tab-item",style:this.$parent.value===this.id?this.activeStyle:{},on:{click:this.onItemClicked}},[e("div",{staticClass:"ly-tab-item-icon"},[this._t("icon")],2),this._v(" "),e("div",{staticClass:"ly-tab-item-label"},[this._t("default")],2)])},staticRenderFns:[]};var v=i("VU/8")({name:"LyTabItem",computed:{activeStyle:function(){return{color:"#4c3622",borderColor:"#4c3622",borderWidth:"3px",borderBottomStyle:"solid"}}},data:function(){return{id:(this.$parent.$children.length||1)-1}},methods:{onItemClicked:function(){this.$parent.$emit("input",this.id)}}},f,!1,function(t){i("hCkd")},null,null).exports,p=(c.a,h.a,l.a,{data:function(){return{selected:"1",activeIndex:0,classfyList:[],cagegory_id:"",type:"",jacketPage:0,jacketAllLoaded:!1,jacketLoading:!0,jacketTopStatus:"",list:[],isData:!1}},methods:{changeType:function(){this.type=this.selected,this.jacketPage=0,this.list=[],this.isData=!1,this.getClassfyList()},getClassfyList:function(){var t=this;r({type:Number(this.selected),pageSize:100,currentPage:0}).then(function(e){if(e.data.code===n.a){if(t.classfyList=e.data.data,0===e.data.data.length)return;t.cagegory_id=e.data.data[0].cagegory_id,t.getJacket()}})},loadJacketBottom:function(){this.isData||(this.jacketPage++,this.getJacket())},jacketTopChange:function(t){this.jacketTopStatus=t},getJacket:function(){var t=this,e={pageSize:10,currentPage:this.jacketPage,category_id:this.cagegory_id};""!=this.type&&null!=this.type&&(e.type=this.type),o(e).then(function(e){if(e.data.code===n.a){if(null===e.data.data)return void(t.isData=!0);t.list=t.list.concat(e.data.data)}})},nav:function(t,e){this.cagegory_id=t.cagegory_id,this.jacketPage=0,this.list=[],this.isData=!1,this.activeIndex=e,this.getJacket()},goDetail:function(t){this.$router.push({name:"detail",query:{id:t.goods_id}})}},created:function(){void 0!=this.$route.query.type?this.selected=this.$route.query.type+"":this.selected="1",this.changeType()},mounted:function(){},components:{List:c.a,NoData:h.a,Scroll:l.a,TabItem:v,Tab:m}}),g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"classifyList"}},[i("mt-navbar",{nativeOn:{click:function(e){return t.changeType(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("mt-tab-item",{attrs:{id:"1"}},[t._v("全定制")]),t._v(" "),i("mt-tab-item",{attrs:{id:"0"}},[t._v("成衣&半定制")]),t._v(" "),i("mt-tab-item",{attrs:{id:"2"}},[t._v("居家生活")]),t._v(" "),i("mt-tab-item",{attrs:{id:"3"}},[t._v("特惠")])],1),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.classfyList.length,expression:"!classfyList.length"}],staticClass:"no-data",staticStyle:{"line-height":"30px","text-align":"center"}},[t._v("暂无数据 ...")]),t._v(" "),i("div",{staticClass:"goods"},[i("scroll",{staticClass:"order-content",attrs:{data:t.classfyList}},[i("div",{staticClass:"menu-wrapper"},[i("ul",t._l(t.classfyList,function(e,a){return i("li",{key:a,class:{active:a==t.activeIndex},on:{click:function(i){t.nav(e,a)}}},[t._v(" "+t._s(e.title))])}))])]),t._v(" "),i("div",{staticClass:"foods-wrapper"},[i("scroll",{ref:"scroll",staticClass:"wrapper",attrs:{data:t.list,pullup:!0},on:{scrollToEnd:t.loadJacketBottom}},[i("div",{staticClass:"content"},t._l(t.classfyList,function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:a==t.selected,expression:"index == selected"}],staticClass:"tab-container"},[i("list",{attrs:{data:t.list},on:{nextRouter:t.goDetail}}),t._v(" "),t.isData?i("div",{staticClass:"no-data"},[t._v("别再拉了，我是有底线的")]):t._e()],1)}))])],1)],1)],1)},staticRenderFns:[]};var y=i("VU/8")(p,g,!1,function(t){i("Z3Re")},"data-v-2aa887c7",null);e.default=y.exports},hCkd:function(t,e){},pnLQ:function(t,e){}});
//# sourceMappingURL=4.0833a93722f2231fe1f2.js.map