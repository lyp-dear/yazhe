webpackJsonp([5],{"1fw5":function(e,t,i){"use strict";var s=i("8iJd"),a=(i.n(s),i("PY2J")),n=i.n(a),r=i("NW6y");var c=function(e){i("hIgI")},o=i("VU/8")(n.a,r.a,!1,c,"data-v-240f88ca",null);t.default=o.exports},"8iJd":function(e,t){},D4AH:function(e,t){},D8E1:function(e,t,i){"use strict";t.b=function(e){var t={openId:e},i=n.b+"/user/size/list";return a.a.post(i,t).then(function(e){return Promise.resolve(e)}).catch(function(e){})},t.d=function(){var e=n.b+"/user/sizeConfig";return a.a.post(e).then(function(e){return Promise.resolve(e)}).catch(function(e){})},t.e=function(){var e=n.b+"/user/sizeConfigByModel";return a.a.post(e).then(function(e){return Promise.resolve(e)}).catch(function(e){})},t.a=function(e){var t=n.b+"/user/size/insert";return a.a.post(t,e).then(function(e){return Promise.resolve(e)}).catch(function(e){})},t.c=function(e){var t=n.b+"/user/size/update";return a.a.post(t,e).then(function(e){return Promise.resolve(e)}).catch(function(e){})};var s=i("mtWM"),a=i.n(s),n=i("T452")},NW6y:function(e,t,i){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"no-size"}},[t("div",{staticClass:"icon"})])}]};t.a=s},PY2J:function(e,t){},TUzS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("OgVB");var s=i("/Lyv"),a=i.n(s),n=i("T452"),r=i("D8E1"),c=i("CaOM"),o=i("DFzv"),u=i("1fw5"),d=(i("ybuH"),Array,Array,Object,{props:{data:{type:Array,defalut:[]},size:{type:Array,defalut:[]},sizeData:{type:Object,defalut:[]}},data:function(){return{userInfo:"",username:"",height:"",weight:"",chest:"",remarks:"",shoulder:"",waist:"",back:"",isCheckde:!1,sizeList:[],indexArray:[],mArray:[],dataSize:[],picture:{}}},methods:{clickSize:function(e,t,i,s){s.title,this.picture[s.title],this.picture[s.title]=e.value,this.indexArray[i].index=t},setData:function(){var e=this;this.$nextTick(function(t){console.log(e.size)})},cancle:function(){this.username="",this.remarks="",this.isCheckde=!1,this.indexArray=[],this.sizeList=[],this.indexArray=[],this.picture={},this.dataSize=[],this.mArray=[],this.$emit("close",!1)},addSize:function(){var e=this;if(""===this.userInfo&&(this.userInfo=Object(c.b)()),""!==this.username.trim()){var t={};this.mArray.map(function(i,s){t[e.size[s].title]=i});var i={title:this.username,remarks:this.remarks,body_digital_information:JSON.stringify(t),body_picture_information:JSON.stringify(this.picture)};this.isCheckde?i.type=1:i.type=0,this.sizeData.id?(i.id=this.sizeData.id,Object(r.c)(i).then(function(t){t.data.code===n.a&&(Object(o.b)("修改尺寸成功!"),e.$emit("close",!1),e.username="",e.remarks="",e.isCheckde=!1,e.indexArray=[],e.sizeList=[],e.indexArray=[],e.picture={},e.mArray=[],e.dataSize=[])})):(i.openId=this.userInfo.openId,i.status=0,Object(r.a)(i).then(function(t){t.data.code===n.a&&(Object(o.b)("添加尺寸成功!"),e.$emit("close",!1),e.username="",e.remarks="",e.isCheckde=!1,e.indexArray=[],e.sizeList=[],e.indexArray=[],e.picture={},e.dataSize=[],e.mArray=[])}))}else a()("提示","请输入用户姓名")}},created:function(){},mounted:function(){},watch:{data:function(e){var t=this;console.log(e),this.sizeList=e;for(var i=0;i<e.length;i++){this.indexArray.push({index:-1})}this.sizeData.body&&this.$nextTick(function(e){var i=JSON.parse(t.sizeData.body);t.sizeList.map(function(e,s){var a=function(a){e.title===a&&e.sizeConfigValueList.map(function(n,r){n.value===i[a]&&(t.picture[e.title]=i[a],t.indexArray[s].index=r)})};for(var n in i)a(n)})})},size:function(e){var t=this;this.dataSize=e,this.sizeData.body&&this.$nextTick(function(e){var i=JSON.parse(t.sizeData.body);t.size.map(function(e,s){for(var a in i)e.title===a&&(t.mArray[s]=i[a])})})},sizeData:function(e){this.sizeData=e,this.username=e.title,1===e.type?this.isCheckde=!0:this.isCheckde=!1,this.remarks=e.remarks}}}),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new-size"}},[i("div",{staticClass:"close",on:{click:e.cancle}}),e._v(" "),i("mt-field",{attrs:{label:"姓名",placeholder:"请输入收件人姓名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),e._l(e.dataSize,function(t,s){return i("mt-field",{key:s,attrs:{label:t.title},model:{value:e.mArray[s],callback:function(t){e.$set(e.mArray,s,t)},expression:"mArray[index]"}})}),e._v(" "),i("div",{staticClass:"size-list"},e._l(e.sizeList,function(t,s){return i("div",{staticClass:"size-list-info"},[i("div",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"icon"},e._l(t.sizeConfigValueList,function(a,n){return i("div",{class:{active:n==e.indexArray[s].index},on:{click:function(i){e.clickSize(a,n,s,t)}}},[i("div",{staticClass:"icon-box"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.image,expression:"info.image"}],attrs:{alt:""}})]),e._v(" "),i("p",[e._v(e._s(a.value))])])}))])})),e._v(" "),i("div",{staticClass:"remarks"},[i("div",{staticClass:"label"},[e._v("备注")]),e._v(" "),i("div",{staticClass:"textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remarks,expression:"remarks"}],attrs:{rows:"8",placeholder:"您可以填写对该尺寸数据的补充信息。例如：”脖子较粗，胳膊比较长”等"},domProps:{value:e.remarks},on:{input:function(t){t.target.composing||(e.remarks=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"flex-bottom"},[i("div",{staticClass:"default-address"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheckde,expression:"isCheckde"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isCheckde)?e._i(e.isCheckde,null)>-1:e.isCheckde},on:{change:function(t){var i=e.isCheckde,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&(e.isCheckde=i.concat([null])):n>-1&&(e.isCheckde=i.slice(0,n).concat(i.slice(n+1)))}else e.isCheckde=a}}}),i("span"),e._v(" 设置为默认尺寸")])]),e._v(" "),i("div",{staticClass:"success-add",on:{click:e.addSize}},[e._v("完成新增")])])],2)},staticRenderFns:[]};var f=i("VU/8")(d,l,!1,function(e){i("dnBW")},"data-v-aab1a3c0",null).exports,v=(u.default,{data:function(){return{userInfo:"",noSize:!1,popupVisible:!1,sizeList:[],defalutList:[],sizeArray:[],data:{}}},methods:{getMySize:function(){var e=this;Object(r.b)(this.userInfo.openId).then(function(t){t.data.code===n.a&&(0===t.data.data.length?e.noSize=!0:e.noSize=!1,e.sizeList=t.data.data)})},newSize:function(e){var t=this;e||(this.data={}),Object(r.e)().then(function(e){e.data.code===n.a&&(t.popupVisible=!0,t.sizeArray=e.data.data)}),Object(r.d)().then(function(e){e.data.code===n.a&&(t.popupVisible=!0,t.defalutList=e.data.data)})},defaultSize:function(e){var t=this;a.a.confirm("确定要设该尺寸为默认尺寸?").then(function(i){var s={id:e.id,type:1};Object(r.c)(s).then(function(e){e.data.code===n.a&&(Object(o.b)("设为默认尺寸成功"),t.getMySize())})}).catch(function(e){})},edit:function(e){this.data=e,this.newSize(!0)},remove:function(e){var t=this;a.a.confirm("确定要删除该尺寸?").then(function(i){var s={id:e.id,status:1};Object(r.c)(s).then(function(e){e.data.code===n.a&&(Object(o.b)("删除尺寸成功"),t.getMySize())})}).catch(function(e){})},isPopupVisible:function(e){this.popupVisible=e,this.getMySize()}},created:function(){this.userInfo=Object(c.b)(),this.getMySize()},components:{NoSize:u.default,NewSize:f}}),h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"slide"}},[i("div",{attrs:{id:"my-size"}},[e.noSize?i("no-size"):e._e(),e._v(" "),i("div",{staticClass:"size-list"},e._l(e.sizeList,function(t,s){return i("div",{staticClass:"size-list-info"},[i("div",{staticClass:"name-edit"},[i("div",{staticClass:"name"},[i("span",[e._v(e._s(t.title))]),e._v(" "),1==t.type?i("span",[e._v("默认")]):e._e(),e._v(" "),1!=t.type?i("span",{on:{click:function(i){e.defaultSize(t)}}},[e._v("设为默认")]):e._e()]),e._v(" "),i("div",{staticClass:"edit"},[i("span",{on:{click:function(i){e.remove(t)}}},[e._v("删除")]),e._v(" "),i("span",{on:{click:function(i){e.edit(t)}}},[e._v("编辑")])])]),e._v(" "),i("div",{staticClass:"user-item"},e._l(JSON.parse(t.body),function(t,s){return i("div",[e._v(e._s(s)+":"+e._s(t))])}))])})),e._v(" "),i("mt-popup",{staticClass:"mint-popup-1",attrs:{position:"right",modal:!1},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[i("new-size",{ref:"newSize",attrs:{data:e.defalutList,size:e.sizeArray,sizeData:e.data},on:{close:e.isPopupVisible}})],1),e._v(" "),i("div",{staticClass:"new-size",on:{click:function(t){e.newSize(!1)}}},[e._v("新建尺寸")])],1)])},staticRenderFns:[]};var p=i("VU/8")(v,h,!1,function(e){i("D4AH")},"data-v-6e2005ef",null);t.default=p.exports},dnBW:function(e,t){},hIgI:function(e,t){}});
//# sourceMappingURL=5.0f98a60bc95a8cf6086c.js.map